<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Tic-Tac-Toe</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Press+Start+2P&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Boxicons Icons -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body class="bg-gradient-to-br from-gray-900 to-black text-gray-100 font-orbitron min-h-screen flex flex-col items-center p-4 relative overflow-y-auto">
    <div class="neon-grid-background"></div>

    <div id="preloader" class="fixed inset-0 bg-gray-900 flex items-center justify-center z-50">
        <div class="spinner-border animate-spin inline-block w-16 h-16 border-4 rounded-full text-purple-500" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <div class="relative z-10 w-full max-w-xl flex flex-col items-center">
        <h1 class="text-5xl md:text-6xl font-bold mb-6 text-center text-purple-400 drop-shadow-neon animate-pulse-slow font-press-start">
            NEON TIC-TAC-TOE
        </h1>

        <!-- Dark Mode Toggle -->
        <button id="darkModeToggle" class="absolute top-4 right-4 md:right-0 p-3 rounded-full bg-gray-800 text-purple-400 shadow-lg hover:scale-110 transition-transform duration-300 border border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500">
            <i class="fas fa-lightbulb text-2xl"></i>
        </button>

        <div class="game-container bg-gray-800 bg-opacity-70 backdrop-blur-sm rounded-3xl shadow-neon-lg p-6 md:p-8 border border-purple-700 w-full max-w-md transform scale-95 animate-scale-in-slow flex flex-col items-center">
            <!-- Scoreboard -->
            <div class="scoreboard flex justify-around items-center mb-6 text-xl md:text-2xl font-bold font-press-start w-full">
                <div class="player-score p-3 rounded-xl bg-gray-900 text-green-400 shadow-inner-neon flex items-center border border-green-600">
                    <i class="fas fa-user mr-2 text-green-500"></i> X: <span id="scoreX" class="ml-1">0</span>
                </div>
                <div class="player-score p-3 rounded-xl bg-gray-900 text-blue-400 shadow-inner-neon flex items-center border border-blue-600">
                    <i class="fas fa-robot mr-2 text-blue-500"></i> O: <span id="scoreO" class="ml-1">0</span>
                </div>
            </div>

            <!-- Game Board -->
            <div id="gameBoard" class="grid grid-cols-3 gap-3 w-full max-w-xs md:max-w-sm aspect-square mx-auto bg-gray-900 bg-opacity-50 p-3 rounded-2xl shadow-inner-neon border border-purple-800">
                <!-- Cells will be dynamically generated by JavaScript -->
            </div>

            <!-- Game Status/Message -->
            <div id="gameStatus" class="text-center text-2xl md:text-3xl font-bold mt-6 mb-4 text-yellow-400 drop-shadow-neon-sm animate-pulse-fast font-press-start"></div>

            <!-- Game Controls -->
            <div class="game-controls flex flex-wrap justify-center gap-3 mt-6 w-full">
                <button id="resetBtn" class="neon-btn bg-purple-600 hover:bg-purple-700 text-white text-sm md:text-base font-bold py-2 px-4 rounded-full shadow-neon-btn transition-all duration-300 flex items-center justify-center">
                    <i class="fas fa-redo mr-2"></i> Reset
                </button>
                <button id="newGameBtn" class="neon-btn bg-green-600 hover:bg-green-700 text-white text-sm md:text-base font-bold py-2 px-4 rounded-full shadow-neon-btn transition-all duration-300 flex items-center justify-center">
                    <i class="fas fa-plus mr-2"></i> New Round
                </button>
                <button id="settingsBtn" class="neon-btn bg-blue-600 hover:bg-blue-700 text-white text-sm md:text-base font-bold py-2 px-4 rounded-full shadow-neon-btn transition-all duration-300 flex items-center justify-center" data-bs-toggle="modal" data-bs-target="#settingsModal">
                    <i class="fas fa-cog mr-2"></i> Settings
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-gray-800 text-gray-100 border border-purple-700 shadow-neon-lg">
                <div class="modal-header border-b border-purple-700">
                    <h5 class="modal-title text-purple-400 font-press-start" id="settingsModalLabel">Game Settings</h5>
                    <button type="button" class="btn-close text-gray-100 opacity-70 hover:opacity-100" data-bs-dismiss="modal" aria-label="Close"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <label for="gameMode" class="form-label text-purple-300">Game Mode:</label>
                        <select class="form-select bg-gray-700 text-gray-100 border border-purple-600 focus:border-purple-500 focus:ring-purple-500" id="gameMode">
                            <option value="PvP">Player vs Player</option>
                            <option value="PvE">Player vs AI</option>
                        </select>
                    </div>
                    <div class="mb-4" id="aiDifficultyContainer">
                        <label for="aiDifficulty" class="form-label text-purple-300">AI Difficulty:</label>
                        <select class="form-select bg-gray-700 text-gray-100 border border-purple-600 focus:border-purple-500 focus:ring-purple-500" id="aiDifficulty">
                            <option value="easy">Easy</option>
                            <option value="medium">Medium</option>
                            <option value="hard">Hard (Minimax)</option>
                        </select>
                    </div>
                    <div class="form-check form-switch mb-4">
                        <input class="form-check-input appearance-none w-14 h-7 rounded-full float-left cursor-pointer focus:outline-none bg-gray-600 checked:bg-purple-500 transition-all duration-200" type="checkbox" id="soundEffectsToggle" checked>
                        <label class="form-check-label inline-block text-purple-300 ml-3" for="soundEffectsToggle">Sound Effects</label>
                    </div>
                </div>
                <div class="modal-footer border-t border-purple-700">
                    <button type="button" class="neon-btn bg-gray-600 hover:bg-gray-700 text-gray-100 font-bold py-2 px-4 rounded-full shadow-neon-btn-sm transition-all duration-300" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="neon-btn bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full shadow-neon-btn-sm transition-all duration-300" id="saveSettingsBtn">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Name Input Modal -->
    <div class="modal fade" id="nameInputModal" tabindex="-1" aria-labelledby="nameInputModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-gray-800 text-gray-100 border border-purple-700 shadow-neon-lg">
                <div class="modal-header border-b border-purple-700">
                    <h5 class="modal-title text-purple-400 font-press-start" id="nameInputModalLabel">Enter Your Name</h5>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <label for="playerNameInput" class="form-label text-purple-300">Player Name:</label>
                        <input type="text" class="form-control bg-gray-700 text-gray-100 border border-purple-600 focus:border-purple-500 focus:ring-purple-500" id="playerNameInput" placeholder="Your Name" required>
                    </div>
                </div>
                <div class="modal-footer border-t border-purple-700">
                    <button type="button" class="neon-btn bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full shadow-neon-btn-sm transition-all duration-300" id="submitNameBtn">Play!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom JavaScript -->
    <script src="js/utils.js"></script>
    <script src="js/effects.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>